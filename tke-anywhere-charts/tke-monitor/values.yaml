global:
  enableInfluxdb: true

registry: ccr.ccs.tencentyun.com
etcd:
  host: https://etcd.kube-system:2379
  
enableAuth: true
enableAudit: true
enableBusiness: false
storage:
  # influxDB, elasticsearch, thanos
  type: influxDB
  # 默认的master[0]内网ip
  address: http://influxdb.tke.svc.cluster.local:8086
  username: ""
  password: ""
api:
  labels:
    app: tke-monitor-api
  annotations:
  selector:
    matchLabels:
      app: tke-monitor-api
  podAnnotations:
  podLabels:
    app: tke-monitor-api
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: node-role.kubernetes.io/control-plane
            operator: Exists
        - matchExpressions:
          - key: node-role.kubernetes.io/master
            operator: Exists
  replicas: 2
  image:
    repository: tdccimages/tke-monitor-api-amd64
    tag: v1.9.0
    imagePullPolicy: IfNotPresent
  resources:
    limits:
      cpu: 100m
      memory: 256Mi
    requests:
      cpu: 50m
      memory: 128Mi
  # OIDC认证方式客户端id，默认为default
  oIDCClientID: default
  # OIDC认证方式的issuer_url，默认为https://tke-auth-api/oidc
  oIDCIssuerURL: https://tke-auth-api/oidc
  # 是否开启OIDC认证，默认不开启
  useOIDCCA: false
controller:
  labels:
    app: tke-monitor-controller
  annotations:
  selector:
    matchLabels:
      app: tke-monitor-controller
  podAnnotations:
  podLabels:
    app: tke-monitor-controller
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: node-role.kubernetes.io/control-plane
            operator: Exists
        - matchExpressions:
          - key: node-role.kubernetes.io/master
            operator: Exists
  replicas: 2
  image:
    repository: tdccimages/tke-monitor-controller-amd64
    tag: v1.9.0
    imagePullPolicy: IfNotPresent
  resources:
    limits:
      cpu: 100m
      memory: 256Mi
    requests:
      cpu: 50m
      memory: 128Mi
  registryDomain:
  registryNamespace:
certificate:
  serverCertDuration: 876000h
  serverCertRenewBefore: 875900h
  mountPath: /etc/kubernetes/pki
  dnsNames:
  uris: 
  ipAddresses:
kubectl:
  image:
    repository: tdccimages/kubectl
    tag: 1.22.7
    imagePullPolicy: IfNotPresent
  
influxdb:
  registry: ccr.ccs.tencentyun.com

  labels:
    app: influxdb
  annotations:
  selector:
    matchLabels:
      app: influxdb
  podAnnotations:
  podLabels:
    app: influxdb
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: node-role.kubernetes.io/control-plane
            operator: Exists
        - matchExpressions:
          - key: node-role.kubernetes.io/master
            operator: Exists

  replicas: 1
  image:
    repository: tdccimages/influxdb
    tag: 1.7.9
    imagePullPolicy: IfNotPresent

  baremetalStorage: true
  nodeName: 127.0.0.1
  persistentStorage: false
  pvcName: nfs-pvc
  storageClassName: nfs-client
